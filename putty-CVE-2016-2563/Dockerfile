FROM debian:latest
RUN apt-get update && apt-get install -y build-essential python2.7 python-pip
RUN apt-get update && apt-get install -y gcc libc6-dev make gdb
RUN apt-get update && apt-get install -y wget git vim
ARG VERSION=0.66
WORKDIR /tmp
RUN wget https://the.earth.li/~sgtatham/putty/$VERSION/putty-$VERSION.tar.gz
RUN tar -zxf putty-$VERSION.tar.gz && rm putty-$VERSION.tar.gz
WORKDIR /tmp/putty-$VERSION/unix
RUN ./configure && make CFLAGS="-O0 -g3" WARNINGOPTS=-Wall -j32 && make install
COPY poc.py test_rsa.key /tmp/
RUN pip install paramiko
WORKDIR /tmp
RUN chmod +x poc.py
